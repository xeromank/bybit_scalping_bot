# 스켈핑 매매 전략 (롱 & 숏) - 비트코인 5배 레버리지

## 🎯 스켈핑 전략 개요
**1-5분 봉 기반 초단타 매매, 0.3-1% 목표 수익**

---

## 📊 공통 조건 (롱/숏 공통)

### 1. 시장 환경 필터
```python
def market_condition_filter():
    ideal_conditions = [
        ATR_5m between 0.2% and 0.8%,      # 적당한 변동성
        spread < 0.02%,                     # 낮은 스프레드
        volume > average_5min_volume * 0.7, # 충분한 유동성
        not major_news_expected_30min,      # 주요 뉴스 30분 전후 아님
        funding_rate between -0.01% and 0.01% # 펀딩비 중립
    ]
    return all(ideal_conditions)
```

### 2. 다중 타임프레임 정렬
```python
def multi_tf_alignment():
    # 5분-15분-1시간 방향 일치 확인
    tf_5m = get_trend_direction("5m")
    tf_15m = get_trend_direction("15m") 
    tf_1h = get_trend_direction("1h")
    
    # 완전 일치 불필요, but 반대되지 않아야 함
    return not (tf_5m == "UP" and tf_1h == "STRONG_DOWN") and \
           not (tf_5m == "DOWN" and tf_1h == "STRONG_UP")
```

---

## ⚡ 롱 스켈핑 전략

### 진입 조건 (롱)
```python
def long_scalp_conditions():
    conditions = [
        # 모멘텀 조건
        EMA_9_1m > EMA_21_1m,
        RSI_14_1m between 40 and 65,           # 중립~약강세
        MACD_1m_histogram > 0,
        
        # 가격 행동
        price > Bollinger_middle_1m,
        current_candle == "bullish",
        volume > previous_5_candles_avg * 1.2,
        
        # 지지/저항
        price near micro_support,               # 1분 수준 지지선
        no_immediate_resistance_0.3%,          # 0.3% 내 저항선 없음
        
        # 주문북 확인
        orderbook_bid_volume > ask_volume * 1.3
    ]
    return sum(conditions) >= 6  # 6개 이상 충족
```

### 롱 진입 실행
```python
def execute_long_scalp():
    if long_scalp_conditions() and market_condition_filter():
        entry_price = current_price
        stop_loss = min(entry_price * 0.997, key_support_1m)  # 0.3% or 지지선
        take_profit = entry_price * 1.004                     # 0.4% 목표
        
        # 빠른 진입/청산
        place_order({
            'side': 'BUY',
            'leverage': 5,
            'size': account_balance * 0.1,  # 계좌 10%
            'stop_loss': stop_loss,
            'take_profit': take_profit
        })
```

---

## ⚡ 숏 스켈핑 전략

### 진입 조건 (숏)
```python
def short_scalp_conditions():
    conditions = [
        # 모멘텀 조건
        EMA_9_1m < EMA_21_1m,
        RSI_14_1m between 35 and 60,           # 중립~약약세  
        MACD_1m_histogram < 0,
        
        # 가격 행동
        price < Bollinger_middle_1m,
        current_candle == "bearish", 
        volume > previous_5_candles_avg * 1.2,
        
        # 지지/저항
        price near micro_resistance,            # 1분 수준 저항선
        no_immediate_support_0.3%,             # 0.3% 내 지지선 없음
        
        # 주문북 확인
        orderbook_ask_volume > bid_volume * 1.3
    ]
    return sum(conditions) >= 6  # 6개 이상 충족
```

### 숏 진입 실행  
```python
def execute_short_scalp():
    if short_scalp_conditions() and market_condition_filter():
        entry_price = current_price
        stop_loss = max(entry_price * 1.003, key_resistance_1m)  # 0.3% or 저항선
        take_profit = entry_price * 0.996                       # 0.4% 목표
        
        place_order({
            'side': 'SELL', 
            'leverage': 5,
            'size': account_balance * 0.1,  # 계좌 10%
            'stop_loss': stop_loss,
            'take_profit': take_profit
        })
```

---

## 🎯 고급 스켈핑 시그널

### 1. 오더북 불균형 스켈핑
```python
def orderbook_imbalance_scalp():
    bid_ask_ratio = total_bid_volume / total_ask_volume
    
    if bid_ask_ratio > 2.0 and price_momentum_up:
        # 매수 압력 강함 → 빠른 롱
        quick_long(target=0.3%, hold_time=1-3min)
        
    elif bid_ask_ratio < 0.5 and price_momentum_down:  
        # 매도 압력 강함 → 빠른 숏
        quick_short(target=0.3%, hold_time=1-3min)
```

### 2. 변동성 돌파 스켈핑
```python
def volatility_breakout_scalp():
    prev_range = prev_5min_high - prev_5min_low
    breakout_level = current_open + (prev_range * 0.3)
    breakdown_level = current_open - (prev_range * 0.3)
    
    if price > breakout_level and volume_spike:
        long_breakout(0.5% target)
    elif price < breakdown_level and volume_spike:
        short_breakout(0.5% target)
```

### 3. 리버설 스켈핑 (초반 포착)
```python
def reversal_scalp():
    # 롱 리버설 (과매도 반등)
    if (RSI_1m < 25 and 
        hammer_or_bullish_engulfing and
        volume_increasing):
        long_reversal(0.6% target)
    
    # 숏 리버설 (과매수 반전)  
    elif (RSI_1m > 75 and
          shooting_star_or_bearish_engulfing and
          volume_increasing):
        short_reversal(0.6% target)
```

---

## ⚡ 리스크 관리 (스켈핑 특화)

### 포지션 사이징
```python
def scalp_position_sizing():
    base_size = account_balance * 0.1  # 계좌 10%
    
    # 조건별 조정
    if volatility_high: base_size *= 0.7
    if win_streak >= 3: base_size *= 1.2
    if loss_streak >= 2: base_size *= 0.5
    
    return min(base_size, account_balance * 0.15)  # 최대 15%
```

### 손절매 전략
```python
def scalp_stop_loss_strategy():
    strategies = {
        'fixed_percent': 0.3,           # 고정 0.3%
        'atr_based': ATR_5m * 1.5,      # ATR 기반
        'support_resistance': nearest_key_level, # 지지/저항선
        'time_based': 5 minutes         # 시간 기반 (5분 내 목표 미도달 시 청산)
    }
    return strategies
```

### 일일 한도 관리
```python
def daily_scalp_limits():
    return {
        'max_trades': 20,               # 일일 최대 20회
        'max_loss': account_balance * 0.03,  # 일일 최대 손실 3%
        'max_win': account_balance * 0.06,   # 일일 최대 수익 6% 도달 시 중지
        'cooldown_after_loss': 15,      # 손실 후 15분 쿨다운
        'mandatory_break_after_5_trades': 30  # 5회 거래 후 30분 휴식
    }
```

---

## 📈 스켈핑 성과 측정

### 기대 성과
```python
expected_performance = {
    'win_rate': '60-70%',
    'avg_win': '0.4%',
    'avg_loss': '0.3%', 
    'profit_factor': '1.8-2.2',
    'trades_per_day': '10-15',
    'daily_expectancy': '1-2%',
    'monthly_expectancy': '20-40% (5배 레버리지)'
}
```

### 성공적인 스켈퍼 특징
```python
successful_scalper_traits = [
    "빠른 의사결정",
    "감정 통제력", 
    "철저한 규칙 준수",
    "작은 수익에 만족",
    "빠른 손절 실행",
    "지속적인 학습"
]
```

---

## 💡 실전 운영 가이드

### 최적 거래 시간대 (한국시간)
```python
optimal_scalp_hours = {
    'high_volatility': ['09:00-11:00', '16:00-18:00', '22:00-01:00'],
    'stable_volatility': ['12:00-15:00', '19:00-21:00'],
    'avoid': ['05:00-07:00']  # 유동성 낮은 시간
}
```

### 심리적 관리
```python
def psychological_management():
    rules = [
        "한 번에 3연속 손실 시 당일 거래 중단",
        "목표 수익 도달 시 만족할 것", 
        "FOMO(놓칠까 뭐한 두려움) 무시",
        "리벤지 매매 절대 금지",
        "규칙에서 벗어나면 즉시 휴식"
    ]
    return rules
```

---

## 🚀 시작 체크리스트

### 1단계: 모의투자 (1주일)
- [ ] 1분, 5분 차트에 익숙해지기
- [ ] 롱/숏 진입 조건 연습
- [ ] 빠른 주문 실행 훈련

### 2단계: 소규모 실전 (2주일)  
- [ ] 0.01 BTC로 실제 거래
- [ ] 일일 5회 한도 설정
- [ ] 거래 일지 작성

### 3단계: 본격 운영 (확장)
- [ ] 포지션 사이즈 점진적 증가
- [ ] 전략 최적화
- [ ] 심리적 안정화

**스켈핑은 기술 + 심리 + 규율의 종합예술입니다!**
