# ğŸ¯ ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ ì „ëµ ê°œì„  ì™„ë£Œ

## ğŸ“Š ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½

### ê°œì„  ì „ (Original)
- **ìŠ¹ë¥ **: 22% (9/41 trades)
- **í‰ê·  ì†ìµ**: -3.7%
- **LONG ìŠ¹ë¥ **: 25.0% (6/24)
- **SHORT ìŠ¹ë¥ **: 17.6% (3/17) âŒ

### ì£¼ìš” ë¬¸ì œì 
1. âŒ íƒ€ì„ì•„ì›ƒ 15ë¶„ ë„ˆë¬´ ì§§ìŒ â†’ ì¶”ì„¸ ì „í™˜ ì „ ì²­ì‚°
2. âŒ ê±°ë˜ëŸ‰ í•„í„° 1.2ë°° ë„ˆë¬´ ì•½í•¨ â†’ ì•½í•œ ì‹ í˜¸ì— ì§„ì…
3. âŒ SHORT ì „ëµ ê±°ì˜ ì‹¤íŒ¨ (ìŠ¹ë¥  17.6%)
4. âŒ ì—°ì† ì‹ í˜¸ ì¤‘ë³µ ì§„ì… â†’ ì†ì‹¤ ëˆ„ì 
5. âŒ TP/SL ë¹„ìœ¨ ë¹„íš¨ìœ¨ (0.5%/0.25%)

---

## âœ… ê°œì„  ì‚¬í•­

### 1. **íŒŒë¼ë¯¸í„° ìµœì í™”** (app_constants.dart:54-73)

#### TP/SL ê°œì„ 
```dart
// Before
defaultMtfProfitPercent = 0.5     // +0.5%
defaultMtfStopLossPercent = 0.25  // -0.25%

// After
defaultMtfProfitPercent = 1.0     // +1.0% (2ë°° ì¦ê°€)
defaultMtfStopLossPercent = 0.5   // -0.5% (2ë°° ì¦ê°€)
```

#### íƒ€ì„ì•„ì›ƒ ê°œì„ 
```dart
// Before
defaultMtfTimeoutMinutes = 15     // 15ë¶„

// After
defaultMtfTimeoutMinutes = 30     // 30ë¶„ (2ë°° ì¦ê°€)
```

#### ê±°ë˜ëŸ‰ í•„í„° ê°•í™”
```dart
// Before
defaultMtfVolumeMultiplier = 1.2  // í‰ê· ì˜ 1.2ë°°

// After
defaultMtfVolumeMultiplier = 2.0  // í‰ê· ì˜ 2ë°° (66% ì¦ê°€)
```

#### SHORT ì „ëµ ë¹„í™œì„±í™”
```dart
// New constant
defaultMtfEnableShort = false     // SHORT ì§„ì… ê¸ˆì§€
```

#### ì—°ì† ì‹ í˜¸ ë°©ì§€
```dart
// New constant
defaultMtfSignalCooldownMinutes = 10  // 10ë¶„ ì¿¨ë‹¤ìš´
```

---

### 2. **ë¡œì§ ê°œì„ ** (trading_provider.dart:1319-1433)

#### ì‹ í˜¸ ì¿¨ë‹¤ìš´ ì¶”ê°€
```dart
// Check signal cooldown (prevent duplicate signals within 10 minutes)
if (_lastMtfSignalTime != null) {
  final timeSinceLastSignal = DateTime.now().difference(_lastMtfSignalTime!);
  if (timeSinceLastSignal.inMinutes < AppConstants.defaultMtfSignalCooldownMinutes) {
    return; // Skip duplicate signal
  }
}
```

#### LONG ONLY ëª¨ë“œ ì „í™˜
```dart
// LONG conditions: All 3 must be true
bool longCondition1 = rsi6_5m < 30.0;           // 5ë¶„ë´‰ ê³¼ë§¤ë„
bool longCondition2 = rsi14_1m >= 30 && <= 50;  // 1ë¶„ë´‰ ë°˜ë“±
bool longCondition3 = volume > avgVolume * 2.0; // ê±°ë˜ëŸ‰ 2ë°°

if (longCondition1 && longCondition2 && longCondition3) {
  side = 'Buy';  // LONG only
}

// SHORT disabled
bool shortEnabled = false;  // Hardcoded to false
```

#### ì‹ í˜¸ ê°•ë„ ê°•í™”
```dart
// Before: 2/3 conditions â†’ signal
// After: 3/3 conditions â†’ signal (100% match required)

if (longCondition1 && longCondition2 && longCondition3) {
  signal = 'ğŸŸ¢ STRONG BUY';  // All 3 conditions met
}
// 2/3 signals removed
```

#### ë¡œê·¸ ê°œì„ 
```dart
// No signal logging with detailed reason
if (side == null) {
  String reason = '';
  if (longCondition1) {
    reason = '5m RSI6 OK';
    if (!longCondition2) reason += ', 1m RSI14 âœ—';
    if (!longCondition3) reason += ', Vol âœ—';
  } else {
    reason = '5m RSI6 âœ—';
  }

  _addLog(TradeLog.info('No Signal | $reason | Target: 3/3 conditions'));
}
```

---

## ğŸ“ˆ ì˜ˆìƒ ê°œì„  íš¨ê³¼

### ì‹ í˜¸ í•„í„°ë§ íš¨ê³¼
| í•„í„° | ê°œì„  ì „ | ê°œì„  í›„ | íš¨ê³¼ |
|------|---------|---------|------|
| ê±°ë˜ëŸ‰ í•„í„° | 1.2ë°° | 2.0ë°° | ì•½í•œ ì‹ í˜¸ 50% ì œê±° |
| ì‹ í˜¸ ì¡°ê±´ | 2/3 OK | 3/3 í•„ìˆ˜ | ë¶ˆì™„ì „ ì‹ í˜¸ ì œê±° |
| SHORT ì§„ì… | í—ˆìš© | ê¸ˆì§€ | ì‹¤íŒ¨ìœ¨ 82% ì§„ì… ì°¨ë‹¨ |
| ì—°ì† ì‹ í˜¸ | í—ˆìš© | 10ë¶„ ì¿¨ë‹¤ìš´ | ì¤‘ë³µ ì†ì‹¤ ë°©ì§€ |

### ìŠ¹ë¥  ë° ì†ìµ ì˜ˆìƒ
```
ê°œì„  ì „:
- ì´ ì‹ í˜¸: 41ê±´
- ìŠ¹ë¥ : 22%
- í‰ê·  ì†ìµ: -3.7%

ê°œì„  í›„ (ì˜ˆìƒ):
- ì´ ì‹ í˜¸: ~15ê±´ (ê±°ë˜ëŸ‰ í•„í„°ë¡œ 63% ê°ì†Œ)
- ìŠ¹ë¥ : 50-60% (LONG only + 3/3 ì¡°ê±´)
- í‰ê·  ì†ìµ: +2~4%
```

### ì¼ì¼ ê±°ë˜ íšŸìˆ˜
```
Before: 41ê±´ / 24ì‹œê°„ = 1.7ê±´/ì‹œê°„
After:  12-15ê±´ / 24ì‹œê°„ = 0.5-0.6ê±´/ì‹œê°„

â†’ ì§ˆ ë†’ì€ ì‹ í˜¸ë§Œ ì„ ë³„ ì§„ì…
```

---

## ğŸ” ë³€ê²½ íŒŒì¼ ëª©ë¡

### 1. `/lib/constants/app_constants.dart`
**ë¼ì¸ 54-73**: Multi-Timeframe ì „ëµ ìƒìˆ˜
- TP/SL ì¦ê°€ (0.5%/0.25% â†’ 1.0%/0.5%)
- íƒ€ì„ì•„ì›ƒ ì¦ê°€ (15ë¶„ â†’ 30ë¶„)
- ê±°ë˜ëŸ‰ ë°°ìˆ˜ ì¦ê°€ (1.2ë°° â†’ 2.0ë°°)
- SHORT ë¹„í™œì„±í™” í”Œë˜ê·¸ ì¶”ê°€
- ì‹ í˜¸ ì¿¨ë‹¤ìš´ ì¶”ê°€ (10ë¶„)

### 2. `/lib/providers/trading_provider.dart`
**ë¼ì¸ 97-98**: ì¿¨ë‹¤ìš´ íƒ€ì´ë¨¸ ë³€ìˆ˜ ì¶”ê°€
```dart
DateTime? _lastMtfSignalTime;
```

**ë¼ì¸ 1328-1335**: ì‹ í˜¸ ì¿¨ë‹¤ìš´ ì²´í¬ ë¡œì§
**ë¼ì¸ 1376-1412**: LONG only ë¡œì§ + 3/3 ì¡°ê±´ ê°•ì œ
**ë¼ì¸ 1414-1433**: ê°œì„ ëœ ë¡œê¹…

---

## ğŸ¯ ì‚¬ìš©ë²•

### ì•±ì—ì„œ ì„¤ì •
1. **ì „ëµ ëª¨ë“œ**: "ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ âœ¨ (ì¶”ì²œ)" ì„ íƒ
2. **ì‹¬ë³¼**: ETHUSDT ê¶Œì¥
3. **ë ˆë²„ë¦¬ì§€**: 5x-10x

### ìë™ ì ìš©ë˜ëŠ” ì„¤ì •
- TP: +1.0% (ì§„ì…ê°€ ëŒ€ë¹„)
- SL: -0.5% (ì§„ì…ê°€ ëŒ€ë¹„)
- íƒ€ì„ì•„ì›ƒ: 30ë¶„
- ê±°ë˜ëŸ‰: í‰ê· ì˜ 2ë°° ì´ìƒ
- SHORT: ë¹„í™œì„±í™” (LONGë§Œ ì§„ì…)
- ì¿¨ë‹¤ìš´: 10ë¶„

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. ì‹¤ì „ ì‚¬ìš© ì „ í•„ìˆ˜ í™•ì¸
- [ ] Testnetì—ì„œ ìµœì†Œ 24ì‹œê°„ í…ŒìŠ¤íŠ¸
- [ ] ì‹¤ì œ ë°ì´í„°ë¡œ ìŠ¹ë¥  ê²€ì¦
- [ ] ê±°ë˜ëŸ‰ í•„í„°ê°€ ë„ˆë¬´ ì—„ê²©í•˜ì§€ ì•Šì€ì§€ í™•ì¸

### 2. ì¶”ê°€ ê°œì„  ê²€í†  ì‚¬í•­
- **íƒ€ì„ì•„ì›ƒ ì¡°ì •**: 30ë¶„ì´ ë„ˆë¬´ ê¸¸ë©´ 20ë¶„ìœ¼ë¡œ ì¶•ì†Œ
- **ê±°ë˜ëŸ‰ ë°°ìˆ˜**: 2ë°°ê°€ ë„ˆë¬´ ì—„ê²©í•˜ë©´ 1.5ë°°ë¡œ ì™„í™”
- **RSI ì„ê³„ê°’**: RSI6 < 25, RSI14 35-55ë¡œ ë³€ê²½ í…ŒìŠ¤íŠ¸
- **SHORT ì¬í™œì„±í™”**: í•˜ë½ì¥ì—ì„œë§Œ SHORT í—ˆìš© ê³ ë ¤

### 3. ëª¨ë‹ˆí„°ë§ ì§€í‘œ
```
ì„±ê³µ ê¸°ì¤€:
âœ… ì¼ì¼ ìŠ¹ë¥  > 50%
âœ… ì¼ì¼ ìˆ˜ìµë¥  > +2%
âœ… ìµœëŒ€ ì—°ì† ì†ì‹¤ < 3íšŒ
âœ… ì¼ì¼ ì‹ í˜¸ ìˆ˜ 10-20ê±´

ì‹¤íŒ¨ ê¸°ì¤€:
âŒ ì¼ì¼ ìŠ¹ë¥  < 40%
âŒ ì¼ì¼ ìˆ˜ìµë¥  < 0%
âŒ ì‹ í˜¸ ìˆ˜ < 5ê±´ (ë„ˆë¬´ ë³´ìˆ˜ì )
```

---

## ğŸ“ ë°±í…ŒìŠ¤íŠ¸ íŒŒì¼

- **`BACKTEST_RESULTS.md`**: ìƒì„¸ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ (41ê°œ ì‹ í˜¸ ë¶„ì„)
- **`SIGNAL_TIMELINE_KST.md`**: ì‹œê°„ë³„ ì‹ í˜¸ ëª©ë¡
- **`ENTRY_OPPORTUNITIES.md`**: 24ì‹œê°„ ì§„ì… ê¸°íšŒ (14ê±´)

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ë‹¨ê¸° (1-2ì¼)
1. Testnetì—ì„œ ê°œì„ ëœ ì „ëµ í…ŒìŠ¤íŠ¸
2. ì‹¤ì œ ì‹ í˜¸ ë°œìƒ ë¹ˆë„ í™•ì¸
3. TP/SL ë„ë‹¬ë¥  ì¸¡ì •

### ì¤‘ê¸° (1ì£¼)
1. ìŠ¹ë¥  50% ì´ìƒ í™•ì¸ ì‹œ Mainnet ì „í™˜
2. í¬ì§€ì…˜ í¬ê¸° ì ì§„ì  í™•ëŒ€
3. ë¦¬ìŠ¤í¬ ê´€ë¦¬ íŒŒë¼ë¯¸í„° ë¯¸ì„¸ ì¡°ì •

### ì¥ê¸° (1ë‹¬)
1. ë‹¤ì–‘í•œ ì‹œì¥ ìƒí™©ì—ì„œ ì„±ëŠ¥ ê²€ì¦
2. ë³€ë™ì„±ì— ë”°ë¥¸ ë™ì  TP/SL ë„ì… ê²€í† 
3. ë‹¤ë¥¸ ì•ŒíŠ¸ì½”ì¸(BTC, SOL ë“±) ì ìš© í…ŒìŠ¤íŠ¸

---

**ìƒì„± ì¼ì‹œ**: 2025-10-19
**ë²„ì „**: v2.0 (Backtest-Optimized)
**ìƒíƒœ**: âœ… ì½”ë“œ ì ìš© ì™„ë£Œ, í…ŒìŠ¤íŠ¸ ëŒ€ê¸° ì¤‘
