void main() {
  print('🔍 07:50~09:30 급락 구간 분석\n');
  
  // 해당 시간대 캔들 데이터
  final candles = [
    ['07:50', 4054.63, 4060.5, 4052.69, 4054.63],
    ['07:55', 4054.63, 4055.05, 4050.24, 4053.67],
    ['08:00', 4053.67, 4056.29, 4046.84, 4048.52],
    ['08:05', 4048.52, 4049.92, 4043.74, 4044.57],
    ['08:10', 4044.57, 4046.48, 4037.36, 4046.43],
    ['08:15', 4046.43, 4046.65, 4041.63, 4042.24],
    ['08:20', 4042.24, 4042.88, 4032.63, 4033.62], // ⭐ 급락 시작!
    ['08:25', 4033.62, 4048.24, 4033.42, 4047.76], // 반등
    ['08:30', 4047.76, 4065.46, 4044.49, 4061.98], // 강한 반등
    ['08:35', 4061.98, 4071.03, 4044.0, 4047.0],   // 재하락
    ['08:40', 4047.0, 4050.75, 4040.33, 4049.54],
    ['08:45', 4049.54, 4058.64, 4044.19, 4044.8],
    ['08:50', 4044.8, 4045.2, 4038.78, 4042.08],
    ['08:55', 4042.08, 4046.04, 4040.68, 4043.54],
    ['09:00', 4043.54, 4043.54, 4035.48, 4038.27],
    ['09:05', 4038.27, 4043.5, 4034.45, 4041.96],
    ['09:10', 4041.96, 4050.56, 4041.31, 4046.5],
    ['09:15', 4046.5, 4047.81, 4033.37, 4037.88],
    ['09:20', 4037.88, 4041.07, 4033.69, 4039.9],
    ['09:25', 4039.9, 4039.9, 4035.58, 4037.91],
    ['09:30', 4037.91, 4040.06, 4033.0, 4033.57],
  ];
  
  print('시간   | Open    | High    | Low     | Close   | 변화율');
  print('-' * 65);
  
  var startPrice = candles[0][4];
  for (var c in candles) {
    var time = c[0];
    var open = c[1];
    var high = c[2];
    var low = c[3];
    var close = c[4];
    var change = ((close - open) / open * 100);
    var fromStart = ((close - startPrice) / startPrice * 100);
    
    var emoji = change < -0.1 ? '🔴' : change > 0.1 ? '🟢' : '⚪';
    print('$emoji $time | ${open.toStringAsFixed(2)} | ${high.toStringAsFixed(2)} | ${low.toStringAsFixed(2)} | ${close.toStringAsFixed(2)} | ${change.toStringAsFixed(2)}% (누적: ${fromStart.toStringAsFixed(2)}%)');
  }
  
  print('\n📊 핵심 구간:');
  print('  - 07:50: \$4,054.63 (시작)');
  print('  - 08:20: \$4,033.62 (급락 -0.24% 캔들) ⭐');
  print('  - 09:30: \$4,033.57 (종료)');
  print('  - 총 하락: -\$21.06 (-0.52%)');
  print('\n💡 SHORT 진입 시점:');
  print('  - 08:20: \$4,042.24 → \$4,033.62 브레이크다운');
  print('  - Low: \$4,032.63까지 터치');
  print('  - 이 캔들에서 SHORT 진입했으면 큰 수익!');
  
  print('\n⚠️  문제점:');
  print('  - 08:25~08:30: 강한 반등 (+\$28 = +0.7%)');
  print('  - 스퀴즈 → 브레이크아웃 패턴');
  print('  - 일반적인 "하락장 반등 숏"으로는 늦음');
}
